{"version":3,"sources":["server/controllers/jkbapp/exam.controller.js"],"names":["req","res","query","pageSize","page","list","exams","json","getList","examId","params","getByExamId","qList","i","length","getByQuestionId","_id","itemList","getExamInfo","next","userId","getByExamIdAndUserId","userAnswer","ipfsHash","then","buffer","content","catch","e","getScantron","examid","body","taskType","checkExist","flag","create","createdDate","Date","hash","save","undefined","postScantron","exam","listImg","newExam","findAll","users","map","item","postExam","console","log","getByIsRecommend","getRecommendList","recommendExam","isRecommend","findOneAndUpdate","$set","err","removeExam","deleteOne","postQ","question","orderNum","removeQ","questionId","postItem","removeItem","itemId"],"mappings":"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","file":"exam.controller.js","sourceRoot":"../../../../../../.."}