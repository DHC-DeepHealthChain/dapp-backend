{"version":3,"sources":["server/controllers/ipfs.controller.js"],"names":["req","res","userId","query","pageSize","page","fileType","getList","result","json","list","getAllList","allList","userid","type","body","checkCreateMedia","flag","taskType","create","hash","title","fileTitle","createMedia","params","IpfsHash","ipfsHash","getImgByIpfsHash","load","next","id","get","then","ipfs","catch","e","uploadFile","buffer","file","documentHash","fileName","originalname","mimetype","uploadContent","encryptBuffer","Buffer","from","JSON","stringify"],"mappings":"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","file":"ipfs.controller.js","sourceRoot":"../../../../.."}