{"version":3,"sources":["server/controllers/user.controller.js"],"names":["req","res","query","limit","skip","list","inviteCode","json","user","headImg","imgBuffer","toString","get","body","create","result","type","updateParam","nickname","realname","introduce","kkCoinAddress","findOneAndUpdate","_id","$set","new","err","newUser","taskType","checkExist","flag","update","mobileNumber","password","getByName","resetPassword","params","captcha","Math","floor","random","then","sendCaptchaByMobile","userId","getInviteCode","inviteCodeBody","error","message","useNum","inviteCodeValidCount","appPath","checkInviteCode","web3","currentProvider","providers","HttpProvider","web3Provider","load","next","id","catch","e","remove"],"mappings":"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","file":"user.controller.js","sourceRoot":"../../../../.."}