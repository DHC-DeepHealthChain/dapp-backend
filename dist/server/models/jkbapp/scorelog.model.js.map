{"version":3,"sources":["server/models/jkbapp/scorelog.model.js"],"names":["ScoreLogSchema","userId","type","String","required","scoreType","looked","Boolean","onIpfs","method","statics","get","id","findById","lean","exec","then","score","err","NOT_FOUND","reject","list","pageSize","page","lookedFlag","skip","Number","find","$ne","sort","createdDate","limit","checkExist","scorelogs","length","countAll","count","countByUserId","countByUserIdAndScoreType","readableByUserIdAndTaskTypeAndDate","taskType","todayStartDate","$gt","shareableByUserIdAndTaskTypeAndDate","aa","$gte","Date","$lte","findAllByUserId","findByOnChain","model"],"mappings":"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","file":"scorelog.model.js","sourceRoot":"../../../../../../.."}