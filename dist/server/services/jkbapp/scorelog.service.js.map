{"version":3,"sources":["server/services/jkbapp/scorelog.service.js"],"names":["userId","pageSize","page","looked","list","scoreLogs","getList","userid","taskType","getScoreByTaskType","addScore","ipfsData","scoreType","score","hash","scoreLog","ipfsHash","onIpfs","create","_id","get","findOneAndUpdate","lookScoreLog","onChain","scoreLogOnIpfs","scoreLogId","scorelog","content","getScoreLogInfoById","findAllUsers","users","usersTemp","map","bb","item","Promise","all","newUsers","aa","findAllByUserId","addTemp","cc","add","totalScore","length","reduce","previousValue","currentValue","newScore","Number","result","mobile","mobileNumber","fingByTaskType","task"],"mappings":"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","file":"scorelog.service.js","sourceRoot":"../../../../../../.."}