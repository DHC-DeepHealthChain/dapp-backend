{"version":3,"sources":["server/services/jkbapp/sign.service.js"],"names":["userId","pageSize","page","weekStartDay","getWeekStartDate","list","signs","map","item","signTime","getTime","Promise","all","getList","userid","todayStartDate","getDayStartDate","getByDateGreatThenAndUserId","flag","taskType","create","getLast1ByUserId","lastSign","num","length","lastSignTime","formatDate","yesterdayStartDate","getYesterdayStartDate","parseInt","keepSignNum","ipfsData","Date","now","hash","newSign","ipfsHash","isSign","Number","weekStartDate","numTemp","score","fingByTaskType","tasks","result","getSignState"],"mappings":"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","file":"sign.service.js","sourceRoot":"../../../../../../.."}